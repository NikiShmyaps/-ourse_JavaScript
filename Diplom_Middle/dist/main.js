!function(e){var t={};function n(o){if(t[o])return t[o].exports;var c=t[o]={i:o,l:!1,exports:{}};return e[o].call(c.exports,c,c.exports,n),c.l=!0,c.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)n.d(o,c,function(t){return e[t]}.bind(null,c));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var o=()=>{const e=document.querySelector(".open-popup"),t=document.querySelector("#free_visit_form"),n=document.querySelector("body");e.addEventListener("click",()=>{t.style.display="block"}),n.addEventListener("click",e=>{let n=e.target;n&&n.closest(".close_icon")?t.style.display="none":n&&n.closest(".overlay")&&(t.style.display="none")})};var c=()=>{const e=document.querySelector(".callback-btn"),t=document.querySelector("#callback_form"),n=document.querySelector("body");e.addEventListener("click",()=>{t.style.display="block"}),n.addEventListener("click",e=>{let n=e.target;n&&n.classList.contains("close_icon")?t.style.display="none":n&&n.closest(".overlay")&&(t.style.display="none")})};var l=function(){function e(e){var t=0,n="+7 (___) ___ ____".replace(/\D/g,""),o=this.value.replace(/\D/g,"");n.length>=o.length&&(o=n),this.value="+7 (___) ___ ____".replace(/./g,function(e){return/[_\d]/.test(e)&&t<o.length?o.charAt(t++):t>=o.length?"":e}),"blur"==e.type?2==this.value.length&&(this.value=""):function(e,t){if(t.focus(),t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){var n=t.createTextRange();n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",e),n.select()}}(this.value.length,this)}document.querySelectorAll("[name=phone]").forEach(t=>{t.addEventListener("input",e,!1),t.addEventListener("focus",e,!1),t.addEventListener("blur",e,!1)})};var r=function(){document.querySelectorAll("[name=name]").forEach(e=>{e.addEventListener("input",e=>{e.target.value=e.target.value.replace(/[-+\/'"№<>_=?!*$.,0-9a-zA-Z]/g,"")})})};var s=()=>{const e="Что то пошло не так...",t="Пожалуйста подождите, идет загрузка",n="Спасибо! Мы скоро с вами свяжемся",o="Пожалуйста подтвердите согласие на обработку персональных данных",c=document.getElementById("footer_form"),l=(document.querySelector(".club-card_order"),document.getElementById("thanks")),r=document.createElement("div");r.style.cssText="font-size: 1.5rem;";let s=(c,s,d)=>{const i=document.getElementById(c),u=document.querySelector(s),y=document.getElementById(d);u.addEventListener("click",s=>{!0===y.checked?i.addEventListener("submit",o=>{o.preventDefault(),i==document.getElementById("card_order")?(i.appendChild(r),r.textContent=t,r.style.cssText="color: #2e2e2e;  margin-top: 10px; text-align: center"):(i.appendChild(r),r.textContent=t,r.style.cssText="color: #ffffff;  margin-top: 10px");const s=new FormData(i);let d,y={};s.forEach((e,t)=>{y[t]=e,d=document.querySelector(`#${c} input[name=${t}]`)}),a(d,y).then(e=>{if(200!==e.status)throw new Error("status network not 200");if(u==document.querySelector("[name=send]"))l.style.display="block",r.textContent="";else if(i==document.getElementById("form1")){const e=document.querySelector(".secretive-one");e.style.display="none",r.textContent=n,r.style.cssText="color: #ffffff;  margin-top: 150px; font-size: 20px",setTimeout(()=>{e.style.display="block",r.textContent=""},2500)}else if(i==document.getElementById("form2")){const e=document.querySelector(".secretive-two");e.style.display="none",r.textContent=n,r.style.cssText="color: #ffffff;  margin-top: 150px; font-size: 20px",setTimeout(()=>{e.style.display="block",r.textContent=""},2500)}else i==document.getElementById("card_order")&&(r.textContent=n,r.style.cssText="color: #2e2e2e;  margin-top: 15px; text-align: center",setTimeout(()=>{r.textContent=""},2500));i.querySelectorAll("input").forEach(e=>{"name"!=e.getAttribute("name")&&"phone"!=e.getAttribute("name")||(e.value="")})}).catch(t=>{if(i==document.getElementById("form1")){const t=document.querySelector(".secretive-one");t.style.display="none",r.textContent=e,r.style.cssText="color: #ffffff;  margin-top: 150px; font-size: 20px",setTimeout(()=>{t.style.display="block",r.textContent=""},2500)}else if(i==document.getElementById("form2")){const n=document.querySelector(".secretive-two");n.style.display="none",r.textContent=e,r.style.cssText="color: #ffffff;  margin-top: 150px; font-size: 20px",console.error(t),setTimeout(()=>{n.style.display="block",r.textContent=""},2500)}else i==document.getElementById("card_order")&&(r.textContent=e,console.error(t),r.style.cssText="color: #2e2e2e;  margin-top: 15px; text-align: center");r.textContent=e,console.error(t)})}):(s.preventDefault(),i==document.getElementById("card_order")?(i.appendChild(r),r.textContent=o,r.style.cssText="color: #2e2e2e;  margin-top: 5px; text-align: center"):(i.appendChild(r),r.textContent=o,r.style.cssText="color: #ffffff;  margin-top: 5px"))})};c.addEventListener("submit",n=>{n.preventDefault(),c.appendChild(r),r.textContent=t,r.style.cssText="color: #ffffff;  margin-top: 15px; text-align: center";const o=new FormData(c);let s,d={};o.forEach((e,t)=>{d[t]=e,s=document.querySelector(`#footer_form input[name=${t}]`)}),a(s,d).then(e=>{if(200!==e.status)throw new Error("status network not 200");l.style.display="block",r.textContent="",c.querySelectorAll("input").forEach(e=>e.value="")}).catch(t=>{const n=document.querySelector(".secretive-footer"),o=document.querySelector(".show");l.style.display="block",n.style.display="none",o.appendChild(r),r.textContent=e,console.error(t)})});const a=(e,t)=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});s("form1","[name=send1]","check"),s("form2","[name=send2]","check2"),s("banner-form","[name=send]","check1"),s("card_order","[name=send3]","card_check")};var a=()=>{const e=document.querySelector(".fixed-gift"),t=document.querySelector("#gift"),n=document.querySelector("body");e.addEventListener("click",()=>{t.style.display="block",e.style.display="none"}),n.addEventListener("click",e=>{let n=e.target;n&&n.closest(".close_icon")?t.style.display="none":n&&n.closest(".overlay")?t.style.display="none":n&&n.closest(".close-btn")&&(t.style.display="none")})};var d=()=>{const e=document.querySelector("body"),t=document.querySelector("#thanks");e.addEventListener("click",e=>{let n=e.target;n&&n.closest(".close_icon")?t.style.display="none":n&&n.closest(".overlay")?t.style.display="none":n&&n.closest(".close-btn")&&(t.style.display="none")})};var i=()=>{const e=document.querySelectorAll(".main-slider>.slide"),t=document.querySelector(".main-slider");(()=>{const n=document.createElement("ul");n.setAttribute("class","slider-dots"),t.appendChild(n);for(let n=0;n<e.length;n++){const e=t.querySelector(".slider-dots"),o=document.createElement("li");0==n?(o.setAttribute("class","main-dot main-dot-active"),e.appendChild(o)):(o.setAttribute("class","main-dot"),e.appendChild(o))}})();const n=t.querySelectorAll(".main-dot");let o=0;const c=()=>{e[o].classList.remove("slide-active"),n[o].classList.remove("dot-active"),++o>=e.length&&(o=0),e[o].classList.add("slide-active"),n[o].classList.add("dot-active")};t.addEventListener("click",t=>{t.preventDefault();let c=t.target;e[o].classList.remove("slide-active"),n[o].classList.remove("dot-active"),c.matches(".main-dot")&&n.forEach((e,t)=>{e===c&&(o=t)}),e[o].classList.add("slide-active"),n[o].classList.add("dot-active")}),setInterval(c,3e3)};var u=()=>{const e=document.getElementById("card_order"),t=document.getElementById("card_leto_mozaika"),n=document.getElementById("price-total");e.addEventListener("change",o=>{const c=o.target;if(c.matches(".club input")||c.matches(".time input")||c.matches(".price input")){let o=0,c=e.querySelector('input[name="card-type"]:checked').value;t.checked?1==c?o=1999:6==c?o=9900:9==c?o=13900:12==c&&(o=19900):1==c?o=2999:6==c?o=14900:9==c?o=21900:12==c&&(o=24900),n.textContent=o}})};(()=>{const e=document.querySelector(".clubs-list>ul"),t=document.querySelector("body");t.addEventListener("click",t=>{let n=t.target;n&&n.closest(".club-select")?e.classList.toggle("active"):e.classList.remove("active")})})(),o(),c(),l(),r(),s(),a(),d(),i(),u()}]);